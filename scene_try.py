from flat import diffuse, mesh, scene

gray = diffuse((0.7, 0.7, 0.7))
red = diffuse((0.7, 0.2, 0.2))
green = diffuse((0.2, 0.7, 0.2))
lamp = diffuse((0.7, 0.7, 0.7), (1000.0, 1000.0, 1000.0))

s = scene()
# Scene by Harrison Ainsworth / HXA7241
# http://www.hxa.name/minilight/
s.camera((0.278, 0.275, -0.789), (0.278, 0.275, 0), 50)
s.environment((0.0906, 0.0943, 0.1151), (0.1, 0.09, 0.07))
s.add(mesh((
    ((0.556, 0.000, 0.000), (0.006, 0.000, 0.559), (0.556, 0.000, 0.559)),
    ((0.006, 0.000, 0.559), (0.556, 0.000, 0.000), (0.003, 0.000, 0.000)),
    ((0.556, 0.000, 0.559), (0.000, 0.549, 0.559), (0.556, 0.549, 0.559)),
    ((0.000, 0.549, 0.559), (0.556, 0.000, 0.559), (0.006, 0.000, 0.559)))), gray)
s.add(mesh((
    ((0.006, 0.000, 0.559), (0.000, 0.549, 0.000), (0.000, 0.549, 0.559)),
    ((0.000, 0.549, 0.000), (0.006, 0.000, 0.559), (0.003, 0.000, 0.000)))), red)
s.add(mesh((
    ((0.556, 0.000, 0.000), (0.556, 0.549, 0.559), (0.556, 0.549, 0.000)),
    ((0.556, 0.549, 0.559), (0.556, 0.000, 0.000), (0.556, 0.000, 0.559)))), green)
s.add(mesh((
    ((0.556, 0.549, 0.559), (0.000, 0.549, 0.000), (0.556, 0.549, 0.000)),
    ((0.000, 0.549, 0.000), (0.556, 0.549, 0.559), (0.000, 0.549, 0.559)))), gray)
s.add(mesh((
    ((0.343, 0.545, 0.332), (0.213, 0.545, 0.227), (0.343, 0.545, 0.227)),
    ((0.213, 0.545, 0.227), (0.343, 0.545, 0.332), (0.213, 0.545, 0.332)))), lamp)
s.add(mesh((
    ((0.474, 0.165, 0.225), (0.426, 0.165, 0.065), (0.316, 0.165, 0.272)),
    ((0.266, 0.165, 0.114), (0.316, 0.165, 0.272), (0.426, 0.165, 0.065)),
    ((0.266, 0.000, 0.114), (0.266, 0.165, 0.114), (0.316, 0.165, 0.272)),
    ((0.316, 0.000, 0.272), (0.266, 0.000, 0.114), (0.316, 0.165, 0.272)),
    ((0.316, 0.000, 0.272), (0.316, 0.165, 0.272), (0.474, 0.165, 0.225)),
    ((0.474, 0.165, 0.225), (0.316, 0.000, 0.272), (0.474, 0.000, 0.225)),
    ((0.474, 0.000, 0.225), (0.474, 0.165, 0.225), (0.426, 0.165, 0.065)),
    ((0.426, 0.165, 0.065), (0.426, 0.000, 0.065), (0.474, 0.000, 0.225)),
    ((0.426, 0.000, 0.065), (0.426, 0.165, 0.065), (0.266, 0.165, 0.114)),
    ((0.266, 0.165, 0.114), (0.266, 0.000, 0.114), (0.426, 0.000, 0.065)))), gray)
s.add(mesh((
    ((0.133, 0.330, 0.247), (0.291, 0.330, 0.296), (0.242, 0.330, 0.456)),
    ((0.242, 0.330, 0.456), (0.084, 0.330, 0.406), (0.133, 0.330, 0.247)),
    ((0.133, 0.000, 0.247), (0.133, 0.330, 0.247), (0.084, 0.330, 0.406)),
    ((0.084, 0.330, 0.406), (0.084, 0.000, 0.406), (0.133, 0.000, 0.247)),
    ((0.084, 0.000, 0.406), (0.084, 0.330, 0.406), (0.242, 0.330, 0.456)),
    ((0.242, 0.330, 0.456), (0.242, 0.000, 0.456), (0.084, 0.000, 0.406)),
    ((0.242, 0.000, 0.456), (0.242, 0.330, 0.456), (0.291, 0.330, 0.296)),
    ((0.291, 0.330, 0.296), (0.291, 0.000, 0.296), (0.242, 0.000, 0.456)),
    ((0.291, 0.000, 0.296), (0.291, 0.330, 0.296), (0.133, 0.330, 0.247)),
    ((0.133, 0.330, 0.247), (0.133, 0.000, 0.247), (0.291, 0.000, 0.296)))), gray)

s.render(200, 200, 10).tonemapped().png('cornellbox.png')